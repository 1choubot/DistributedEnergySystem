<Page x:Class="DistributedEnergySystem.Views.HomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:DistributedEnergySystem"
      xmlns:vm="clr-namespace:DistributedEnergySystem.ViewModels"
      mc:Ignorable="d"
      d:DesignHeight="600" d:DesignWidth="1024"
      Title="系统总览">

    <Page.DataContext>
        <vm:MainWindowViewModel/>
    </Page.DataContext>

    <Grid Background="Transparent">
        <!-- 系统总览内容 -->
        <Viewbox Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Canvas Width="1350" Height="700">

                <!-- 玻璃态背景装饰 -->
                <Border Canvas.Left="10" Canvas.Top="0"
                        Width="1340" Height="700"
                        Style="{DynamicResource GlassBorderStyle}"
                        Opacity="0.2"
                        Panel.ZIndex="1"
                        IsHitTestVisible="False"/>

                <!-- 中央产品渲染图区域 -->
                <Border Canvas.Left="425" Canvas.Top="125"
                        Width="500" Height="450"
                        Style="{DynamicResource GlassCenterStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- 产品渲染图区域 -->
                        <Border Grid.Row="1" Background="#0F1419" CornerRadius="10" Margin="20">
                            <TextBlock Text="产品图片展示区域"
                                       FontSize="18"
                                       Foreground="#6B7280"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Border>

                        <!-- 系统参数汇总 -->
                        <Grid Grid.Row="2" Margin="20,15,20,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- 工作模式 -->
                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                <TextBlock Text="离网运行" FontSize="14" FontWeight="Bold"
                                          Foreground="#10B981" HorizontalAlignment="Center"/>
                                <TextBlock Text="工作模式" FontSize="10"
                                          Foreground="#6B7280" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                            </StackPanel>

                            <!-- 系统温度 -->
                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                <TextBlock Text="32°C" FontSize="14" FontWeight="Bold"
                                          Foreground="#F59E0B" HorizontalAlignment="Center"/>
                                <TextBlock Text="系统温度" FontSize="10"
                                          Foreground="#6B7280" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                            </StackPanel>

                            <!-- 故障代码 -->
                            <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                                <TextBlock Text="--" FontSize="14" FontWeight="Bold"
                                          Foreground="#10B981" HorizontalAlignment="Center"/>
                                <TextBlock Text="故障代码" FontSize="10"
                                          Foreground="#6B7280" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </Border>

                <!-- 能源流动线条 -->
                <Path Stroke="#10B981" StrokeThickness="3" Fill="Transparent"
                      Data="M 350 350 L 425 350" Panel.ZIndex="2"
                      StrokeDashArray="10,5" Opacity="0.8">
                    <Path.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="StrokeDashOffset"
                                                    From="0" To="15" Duration="0:0:1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Path.Triggers>
                </Path>

                <Path Stroke="#F59E0B" StrokeThickness="3" Fill="Transparent"
                      Data="M 675 250 L 675 125" Panel.ZIndex="2"
                      StrokeDashArray="10,5" Opacity="0.8">
                    <Path.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="StrokeDashOffset"
                                                    From="0" To="15" Duration="0:0:1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Path.Triggers>
                </Path>

                <Path Stroke="#EF4444" StrokeThickness="3" Fill="Transparent"
                      Data="M 925 350 L 1090 350" Panel.ZIndex="2"
                      StrokeDashArray="10,5" Opacity="0.8">
                    <Path.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="StrokeDashOffset"
                                                    From="0" To="15" Duration="0:0:1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Path.Triggers>
                </Path>

                <Path Stroke="#3B82F6" StrokeThickness="3" Fill="Transparent"
                      Data="M 350 350 L 350 480" Panel.ZIndex="2"
                      StrokeDashArray="10,5" Opacity="0.8">
                    <Path.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="StrokeDashOffset"
                                                    From="0" To="15" Duration="0:0:1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Path.Triggers>
                </Path>

                <Path Stroke="#8B5CF6" StrokeThickness="3" Fill="Transparent"
                      Data="M 925 350 L 925 480" Panel.ZIndex="2"
                      StrokeDashArray="10,5" Opacity="0.8">
                    <Path.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="StrokeDashOffset"
                                                    From="0" To="15" Duration="0:0:1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Path.Triggers>
                </Path>

                <!-- 风电参数模块 -->
                <Border Canvas.Left="50" Canvas.Top="270"
                       Width="280" Height="160"
                       Style="{DynamicResource ModuleStyle}"
                       Panel.ZIndex="3">
                    <StackPanel Margin="15">
                        <TextBlock Text="风电" FontSize="18" FontWeight="Bold" Foreground="#10B981" HorizontalAlignment="Center"/>
                        <Separator Margin="0,5" Background="#444"/>
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="电压:" Grid.Row="0" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="220V" Grid.Row="0" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="电流:" Grid.Row="1" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="5.2A" Grid.Row="1" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="2" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="1144W" Grid.Row="2" Grid.Column="1" Foreground="#10B981" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="转速:" Grid.Row="3" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="120rpm" Grid.Row="3" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="4" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <ProgressBar Grid.Row="4" Grid.Column="1" Height="8" Margin="5,0,0,0"
                                        Style="{DynamicResource GradientProgressBar}"
                                        Foreground="#10B981" Background="#444" Value="57" Maximum="100"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- 光伏参数模块 -->
                <Border Canvas.Left="535" Canvas.Top="30"
                       Width="280" Height="160"
                       Style="{DynamicResource ModuleStyle}"
                       Panel.ZIndex="3">
                    <StackPanel Margin="15">
                        <TextBlock Text="光伏" FontSize="18" FontWeight="Bold" Foreground="#F59E0B" HorizontalAlignment="Center"/>
                        <Separator Margin="0,5" Background="#444"/>
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="电压:" Grid.Row="0" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="380V" Grid.Row="0" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="电流:" Grid.Row="1" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="8.5A" Grid.Row="1" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="2" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="3230W" Grid.Row="2" Grid.Column="1" Foreground="#F59E0B" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="温度:" Grid.Row="3" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="45°C" Grid.Row="3" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="4" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <ProgressBar Grid.Row="4" Grid.Column="1" Height="8" Margin="5,0,0,0"
                                        Style="{DynamicResource GradientProgressBar}"
                                        Foreground="#F59E0B" Background="#444" Value="80" Maximum="100"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- 发电机参数模块 -->
                <Border Canvas.Left="1020" Canvas.Top="270"
                       Width="280" Height="160"
                       Style="{DynamicResource ModuleStyle}"
                       Panel.ZIndex="3">
                    <StackPanel Margin="15">
                        <TextBlock Text="发电机" FontSize="18" FontWeight="Bold" Foreground="#EF4444" HorizontalAlignment="Center"/>
                        <Separator Margin="0,5" Background="#444"/>
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="电压:" Grid.Row="0" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="220V" Grid.Row="0" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="电流:" Grid.Row="1" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="12.8A" Grid.Row="1" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="2" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="2816W" Grid.Row="2" Grid.Column="1" Foreground="#EF4444" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="频率:" Grid.Row="3" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="50Hz" Grid.Row="3" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="4" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <ProgressBar Grid.Row="4" Grid.Column="1" Height="8" Margin="5,0,0,0"
                                        Style="{DynamicResource GradientProgressBar}"
                                        Foreground="#EF4444" Background="#444" Value="70" Maximum="100"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- 储能参数模块 -->
                <Border Canvas.Left="50" Canvas.Top="480"
                       Width="280" Height="160"
                       Style="{DynamicResource ModuleStyle}"
                       Panel.ZIndex="3">
                    <StackPanel Margin="15">
                        <TextBlock Text="储能" FontSize="18" FontWeight="Bold" Foreground="#3B82F6" HorizontalAlignment="Center"/>
                        <Separator Margin="0,5" Background="#444"/>
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="电压:" Grid.Row="0" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="48V" Grid.Row="0" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="电流:" Grid.Row="1" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="25.3A" Grid.Row="1" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="2" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="1214W" Grid.Row="2" Grid.Column="1" Foreground="#3B82F6" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="温度:" Grid.Row="3" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="28°C" Grid.Row="3" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="SOC:" Grid.Row="4" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <ProgressBar Grid.Row="4" Grid.Column="1" Height="8" Margin="5,0,0,0"
                                        Style="{DynamicResource GradientProgressBar}"
                                        Foreground="#3B82F6" Background="#444" Value="65" Maximum="100"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- AC输出参数模块 -->
                <Border Canvas.Left="1020" Canvas.Top="480"
                       Width="280" Height="160"
                       Style="{DynamicResource ModuleStyle}"
                       Panel.ZIndex="3">
                    <StackPanel Margin="15">
                        <TextBlock Text="AC输出" FontSize="18" FontWeight="Bold" Foreground="#8B5CF6" HorizontalAlignment="Center"/>
                        <Separator Margin="0,5" Background="#444"/>
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="电压:" Grid.Row="0" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="220V" Grid.Row="0" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="电流:" Grid.Row="1" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="18.5A" Grid.Row="1" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="2" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="4070W" Grid.Row="2" Grid.Column="1" Foreground="#8B5CF6" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="频率:" Grid.Row="3" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <TextBlock Text="50Hz" Grid.Row="3" Grid.Column="1" Foreground="White" FontSize="12" FontWeight="Bold"/>

                            <TextBlock Text="功率:" Grid.Row="4" Grid.Column="0" Foreground="#CCC" FontSize="12"/>
                            <ProgressBar Grid.Row="4" Grid.Column="1" Height="8" Margin="5,0,0,0"
                                        Style="{DynamicResource GradientProgressBar}"
                                        Foreground="#8B5CF6" Background="#444" Value="85" Maximum="100"/>
                        </Grid>
                    </StackPanel>
                </Border>

            </Canvas>
        </Viewbox>
    </Grid>
</Page>