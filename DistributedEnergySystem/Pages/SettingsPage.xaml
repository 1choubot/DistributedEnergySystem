<local:BasePage x:Class="DistributedEnergySystem.Pages.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:DistributedEnergySystem.Pages"
      xmlns:vm="clr-namespace:DistributedEnergySystem.ViewModels"
      mc:Ignorable="d"
      d:DesignHeight="600" d:DesignWidth="1024"
      Title="ç³»ç»Ÿè®¾ç½®">

    <Page.DataContext>
        <vm:MainWindowViewModel/>
    </Page.DataContext>

    <Grid>
        <!-- èƒŒæ™¯è£…é¥° -->
        <Grid.Background>
            <DrawingBrush>
                <DrawingBrush.Drawing>
                    <DrawingGroup>
                        <GeometryDrawing Brush="#0F1419">
                            <GeometryDrawing.Geometry>
                                <RectangleGeometry Rect="0,0,1,1"/>
                            </GeometryDrawing.Geometry>
                        </GeometryDrawing>
                        <GeometryDrawing>
                            <GeometryDrawing.Brush>
                                <SolidColorBrush Color="#10B981" Opacity="0.05"/>
                            </GeometryDrawing.Brush>
                            <GeometryDrawing.Geometry>
                                <GeometryGroup>
                                    <LineGeometry StartPoint="0,0.5" EndPoint="1,0.5"/>
                                    <LineGeometry StartPoint="0.5,0" EndPoint="0.5,1"/>
                                </GeometryGroup>
                            </GeometryDrawing.Geometry>
                        </GeometryDrawing>
                    </DrawingGroup>
                </DrawingBrush.Drawing>
            </DrawingBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <!-- é¡µé¢æ ‡é¢˜ -->
            <RowDefinition Height="80"/>
            <!-- ä¸»å†…å®¹åŒºåŸŸ -->
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- é¡µé¢æ ‡é¢˜æ  -->
        <Border Grid.Row="0" Background="#1A202C" Margin="20,20,20,10">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
            </Border.Effect>
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="30,0">
                <!-- è¿”å›žæŒ‰é’® -->
                <Button Name="BackButton"
                        Background="Transparent"
                        BorderThickness="0"
                        Width="40" Height="40"
                        Margin="0,0,20,0"
                        Cursor="Hand"
                        Click="BackButton_Click">
                    <TextBlock Text="â†" FontSize="24" Foreground="#10B981"
                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Button>

                <!-- é¡µé¢æ ‡é¢˜ -->
                <TextBlock Text="âš™ï¸ ç³»ç»Ÿè®¾ç½®"
                           FontSize="24" FontWeight="SemiBold"
                           Foreground="#10B981"
                           VerticalAlignment="Center"/>

                <!-- åˆ†éš”çº¿ -->
                <Border Width="2" Height="30" Background="#374151"
                        Margin="20,0,20,0" VerticalAlignment="Center"/>

                <!-- é¡µé¢æè¿° -->
                <TextBlock Text="é…ç½®å’Œç®¡ç†ç³»ç»Ÿå‚æ•°"
                           FontSize="14"
                           Foreground="#9CA3AF"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <Grid Grid.Row="1" Margin="20,10,20,20">
            <Grid.ColumnDefinitions>
                <!-- å·¦ä¾§èœå• -->
                <ColumnDefinition Width="250"/>
                <!-- åˆ†éš”çº¿ -->
                <ColumnDefinition Width="1"/>
                <!-- å³ä¾§å†…å®¹ -->
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- å·¦ä¾§è®¾ç½®èœå• -->
            <Border Grid.Column="0" Background="#1A202C" CornerRadius="12" Margin="0,0,10,0">
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
                </Border.Effect>
                <StackPanel Margin="10">
                    <!-- èœå•æ ‡é¢˜ -->
                    <TextBlock Text="è®¾ç½®åˆ†ç±»"
                               FontSize="16" FontWeight="SemiBold"
                               Foreground="#E5E7EB"
                               Margin="15,20,15,10"/>

                    <Separator Background="#374151" Margin="15,0,15,10"/>

                    <!-- èœå•é¡¹ -->
                    <ListBox Name="SettingsMenu"
                             Background="Transparent"
                             BorderThickness="0"
                             SelectionMode="Single"
                             SelectionChanged="SettingsMenu_SelectionChanged">

                        <!-- è®¾å¤‡é…ç½® -->
                        <ListBoxItem Name="DeviceConfigItem"
                                     Background="#1F2937"
                                     Margin="5,2"
                                     Tag="DeviceConfig">
                            <StackPanel Orientation="Horizontal" Margin="10,8">
                                <TextBlock Text="ðŸ”§" FontSize="18" Margin="0,0,12,0"/>
                                <TextBlock Text="è®¾å¤‡é…ç½®" FontSize="14" Foreground="#E5E7EB"/>
                            </StackPanel>
                        </ListBoxItem>

                        <!-- ç½‘ç»œè®¾ç½® -->
                        <ListBoxItem Name="NetworkSettingsItem"
                                     Background="Transparent"
                                     Margin="5,2"
                                     Tag="NetworkSettings">
                            <StackPanel Orientation="Horizontal" Margin="10,8">
                                <TextBlock Text="ðŸŒ" FontSize="18" Margin="0,0,12,0"/>
                                <TextBlock Text="ç½‘ç»œè®¾ç½®" FontSize="14" Foreground="#E5E7EB"/>
                            </StackPanel>
                        </ListBoxItem>

                        <!-- ç”¨æˆ·ç®¡ç† -->
                        <ListBoxItem Name="UserManagementItem"
                                     Background="Transparent"
                                     Margin="5,2"
                                     Tag="UserManagement">
                            <StackPanel Orientation="Horizontal" Margin="10,8">
                                <TextBlock Text="ðŸ‘¥" FontSize="18" Margin="0,0,12,0"/>
                                <TextBlock Text="ç”¨æˆ·ç®¡ç†" FontSize="14" Foreground="#E5E7EB"/>
                            </StackPanel>
                        </ListBoxItem>

                        <!-- ç³»ç»Ÿå‚æ•° -->
                        <ListBoxItem Name="SystemParamsItem"
                                     Background="Transparent"
                                     Margin="5,2"
                                     Tag="SystemParams">
                            <StackPanel Orientation="Horizontal" Margin="10,8">
                                <TextBlock Text="âš™ï¸" FontSize="18" Margin="0,0,12,0"/>
                                <TextBlock Text="ç³»ç»Ÿå‚æ•°" FontSize="14" Foreground="#E5E7EB"/>
                            </StackPanel>
                        </ListBoxItem>

                        <!-- æ•°æ®å¤‡ä»½ -->
                        <ListBoxItem Name="DataBackupItem"
                                     Background="Transparent"
                                     Margin="5,2"
                                     Tag="DataBackup">
                            <StackPanel Orientation="Horizontal" Margin="10,8">
                                <TextBlock Text="ðŸ’¾" FontSize="18" Margin="0,0,12,0"/>
                                <TextBlock Text="æ•°æ®å¤‡ä»½" FontSize="14" Foreground="#E5E7EB"/>
                            </StackPanel>
                        </ListBoxItem>

                        <!-- æ—¥å¿—ç®¡ç† -->
                        <ListBoxItem Name="LogManagementItem"
                                     Background="Transparent"
                                     Margin="5,2"
                                     Tag="LogManagement">
                            <StackPanel Orientation="Horizontal" Margin="10,8">
                                <TextBlock Text="ðŸ“‹" FontSize="18" Margin="0,0,12,0"/>
                                <TextBlock Text="æ—¥å¿—ç®¡ç†" FontSize="14" Foreground="#E5E7EB"/>
                            </StackPanel>
                        </ListBoxItem>
                    </ListBox>
                </StackPanel>
            </Border>

            <!-- åˆ†éš”çº¿ -->
            <Border Grid.Column="1" Background="#374151" Margin="5,0"/>

            <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
            <Border Grid.Column="2" Background="#1A202C" CornerRadius="12" Margin="10,0,0,0">
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
                </Border.Effect>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- å†…å®¹æ ‡é¢˜ -->
                    <StackPanel Grid.Row="0" Margin="30,25,30,20">
                        <TextBlock Name="ContentTitle"
                                   Text="è®¾å¤‡é…ç½®"
                                   FontSize="20" FontWeight="SemiBold"
                                   Foreground="#E5E7EB"/>
                        <TextBlock Name="ContentDescription"
                                   Text="é…ç½®å’Œç®¡ç†ç³»ç»Ÿè®¾å¤‡å‚æ•°"
                                   FontSize="12"
                                   Foreground="#9CA3AF"
                                   Margin="0,5,0,0"/>
                        <Separator Background="#374151" Margin="0,15,0,0"/>
                    </StackPanel>

                    <!-- åŠ¨æ€å†…å®¹åŒºåŸŸ -->
                    <Frame Name="ContentFrame"
                            Grid.Row="1"
                            NavigationUIVisibility="Hidden"
                            Background="Transparent"
                            Margin="25,0,25,25"
                            Content="è®¾ç½®å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º..."/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</local:BasePage>